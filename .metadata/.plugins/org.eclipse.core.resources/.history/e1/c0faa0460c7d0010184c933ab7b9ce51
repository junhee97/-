<%@page import="java.text.DecimalFormat"%>
<%@ include file="db.jsp" %>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>mlist</title>
</head>
<body>
<jsp:include page="header.jsp"></jsp:include>
<section style="position:fixed;  top:200px; left:0px; width:100%; height:100%; background-color:light-gray;'">
<h2 style="text-align:center;">회원정보조회</h2>
<form style="display:flex; align-items:center; justify-content:center; text-align:center;">
   <table border="1">
      <tr>    
         <th>수강월</th>
         <th>회원번호</th>
         <th>회원명</th>
         <th>강의명</th>
         <th>강의장소</th>
         <th>수강료</th>
         <th>등급</th>
      </tr>
      
      <%
      request.setCharacterEncoding("UTF-8");
      
      try {
			String sql ="select c.regist_month, m.c_no, m.c_name, t.class_name, c.class_area, c.tuition, m.grade "
					+ "from tbl_member_202201 m "
					+ "join tbl_class_202201 c on c.c_no = m.c_no "
					+ "join tbl_teacher_202201 t on t.teacher_code = c.teacher_code";
         PreparedStatement pstmt = con.prepareStatement(sql);
         ResultSet rs = pstmt.executeQuery();
         while(rs.next()) {
            %>
            <tr>
               <td><%=rs.getString(1)%></td>
               <td><%=rs.getString(2)%></td>
               <td><%=rs.getString(3)%></td>
               <td><%=rs.getString(4)%></td>
               <td><%=rs.getString(5)%></td>
               <td><%=rs.getString(6)%></td>
               <td><%=rs.getString(7)%></td>
            </tr>
            <%
         }
         
      }catch(Exception e) {
         e.printStackTrace();
      }
      
      %>
      
   </table>
</form>
</section>
<jsp:include page="footer.jsp"></jsp:include>
</body>
</html>